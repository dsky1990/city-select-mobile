!function(){var a='<div class="city-selector hide"><div class="mask"></div><div class="show-dialog"><div class="sd-hd"><span class="rl-back hide"></span><span class="rl-left sd-cancel">取消</span><h2 class="sd-tit" id="js-area">选择省</h2></div><div class="sd-bd"><ul class="area-list"></ul></div></div></div>';$("body").append(a);var b=null,c=!1;c||$.get("area.json",function(a){b=a,c=!0}),$(".citySelectorMobile").off("focus").on("focus",function(){$(".city-selector").removeClass("hide");var a=$(this);d.init(b,a)}),$(".sd-cancel").on("click",function(){$(".city-selector").addClass("hide")});var d=function(){return{$regionUl:null,$bar:null,provinceText:"",cityText:"",areaText:"",provinceId:null,cityId:null,areaId:null,init:function(a,b){var c=this,d=a.length,e="";c.provinceId=null,c.scrollTop();for(var f=0;f<d;f++){var g='<li class="province-list" data-province="'+f+'">'+a[f].name+"</li>";e+=g}c.$bar=$(".city-selector .sd-tit"),c.$regionUl=$(".city-selector .area-list").html(e),c.$bar.text("选择省"),c.setProvince(a,b)},scrollTop:function(){$(".city-selector .sd-bd").animate({scrollTop:0},"fast")},setProvince:function(a,b){var c=this;c.provinceId=null,c.$regionUl.find(".province-list").off("click").on("click",function(d){d.preventDefault(),d.stopPropagation();var e=$(this);c.provinceId=e.data("province"),c.provinceText=e.text(),c.$bar.text(c.provinceText),c.setCity(a,b)})},setCity:function(a,b){var c=this,d=c.provinceId,e="",f=a[d].citys.length;c.$regionUl.html(""),c.scrollTop();for(var g=0;g<f;g++){var h='<li class="city-list" data-city="'+g+'">'+a[d].citys[g].name+"</li>";e+=h}c.$regionUl.html(e),c.getArea(a,b)},getArea:function(a,b){var c=this;c.cityId=null,c.$regionUl.find(".city-list").off("click").on("click",function(d){d.preventDefault(),d.stopPropagation();var e=$(this);c.cityId=e.data("city"),c.cityText=e.text(),c.$bar.text(c.provinceText+"-"+c.cityText),c.setArea(a,b)})},setArea:function(a,b){var c=this,d=c.provinceId,e=c.cityId,f=a[d].citys[e].county.length,g="";c.$regionUl.html(""),c.scrollTop();for(var h=0;h<f;h++){var i='<li class="city-region area-list" data-area="'+h+'" data-id="'+a[d].citys[e].county[h].id+'">'+a[d].citys[e].county[h].name+"</li>";g+=i}c.$regionUl.html(g),c.setValue(b)},setValue:function(a){var b="-",c=this;c.$regionUl.find(".area-list").off("click").on("click",function(d){d.preventDefault(),d.stopPropagation();var e=$(this).text(),f=c.provinceText+b+c.cityText+b+e;$(".city-selector").addClass("hide"),a.val(f)})}}}()}();